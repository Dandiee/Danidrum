using System.Windows;

namespace Danidrum;

public partial class DrumIcon
{
    public DrumIcon()
    {
        var _ = DrumIconData.Crash;

        InitializeComponent();
    }

    public static readonly DependencyProperty ArticulationProperty = DependencyProperty.Register(nameof(Articulation), typeof(KitArticulation), typeof(DrumIcon), new PropertyMetadata(default(KitArticulation), PropertyChangedCallback));
    private static void PropertyChangedCallback(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
        if (DrumIconData.Mapping.TryGetValue((KitArticulation)e.NewValue, out var ctx))
        {
            ((DrumIcon)d).DataContext = ctx;
        }
    }
    public KitArticulation Articulation
    {
        get => (KitArticulation)GetValue(ArticulationProperty);
        set => SetValue(ArticulationProperty, value);
    }
}

public sealed class DrumIconData
{
    public static readonly Dictionary<KitArticulation, DrumIconData> Mapping = new();
    public static readonly List<DrumIconData> All = new();

    // --- CRASH ---
    public static readonly DrumIconData Crash = new(KitArticulation.Crash,
        accentData: "M198.798 83.203c-58.238 0-105.519 47.282-105.519 105.52s47.281 105.52 105.519 105.52 105.52-47.282 105.52-105.52-47.282-105.52-105.52-105.52Zm0 80.103c-14.028 0-25.417 11.389-25.417 25.417s11.389 25.417 25.417 25.417c14.029 0 25.418-11.389 25.418-25.417s-11.389-25.417-25.418-25.417Z",
        contextData: "M548.285 163.306c-14.028 0-25.417 11.389-25.417 25.417s11.389 25.417 25.417 25.417 25.417-11.389 25.417-25.417-11.389-25.417-25.417-25.417Zm0-80.103c-58.238 0-105.52 47.282-105.52 105.52s47.282 105.52 105.52 105.52 105.52-47.282 105.52-105.52-47.282-105.52-105.52-105.52ZM203.495 339.839v61.826c0 4.476-3.633 8.109-8.109 8.109H134.177l-.001-.308c0-38.325 31.031-69.459 69.319-69.627Zm6 .229c35.773 2.902 63.936 32.887 63.936 69.398 0 38.429-31.199 69.628-69.628 69.628-36.641 0-66.71-28.365-69.428-64.32h67.011c4.476 0 8.109-3.633 8.109-8.109V340.068Zm84.147 149.456c0-5.033-4.087-9.119-9.12-9.119H266.284c-5.034 0-9.12 4.086-9.12 9.119v51.759c0 5.033 4.086 9.119 9.12 9.119h18.238c5.033 0 9.12-4.086 9.12-9.119V489.524Z");

    // --- RIDE ---
    public static readonly DrumIconData Ride = new(KitArticulation.Ride,
        accentData: "M548.285 163.306c-14.028 0-25.417 11.389-25.417 25.417s11.389 25.417 25.417 25.417 25.417-11.389 25.417-25.417-11.389-25.417-25.417-25.417Zm0-80.103c-58.238 0-105.52 47.282-105.52 105.52s47.282 105.52 105.52 105.52 105.52-47.282 105.52-105.52-47.282-105.52-105.52-105.52Z",
        contextData: "M198.798 83.203c-58.238 0-105.519 47.282-105.519 105.52s47.281 105.52 105.519 105.52 105.52-47.282 105.52-105.52-47.282-105.52-105.52-105.52Zm0 80.103c-14.028 0-25.417 11.389-25.417 25.417s11.389 25.417 25.417 25.417c14.029 0 25.418-11.389 25.418-25.417s-11.389-25.417-25.418-25.417Zm4.697 176.533v61.826c0 4.476-3.633 8.109-8.109 8.109H134.177l-.001-.308c0-38.325 31.031-69.459 69.319-69.627Zm6 .229c35.773 2.902 63.936 32.887 63.936 69.398 0 38.429-31.199 69.628-69.628 69.628-36.641 0-66.71-28.365-69.428-64.32h67.011c4.476 0 8.109-3.633 8.109-8.109V340.068Zm84.147 149.456c0-5.033-4.087-9.119-9.12-9.119H266.284c-5.034 0-9.12 4.086-9.12 9.119v51.759c0 5.033 4.086 9.119 9.12 9.119h18.238c5.033 0 9.12-4.086 9.12-9.119V489.524Z");

    // --- HIGH TOM (HiTom) ---
    public static readonly DrumIconData HighTom = new(KitArticulation.HighTom,
        accentData: "M297.8 254.201c5.591-9.38 9.771-19.701 12.243-30.666 32.122 5.889 56.501 34.059 56.501 67.878 0 38.089-30.923 69.012-69.012 69.012-33.979 0-62.255-24.61-67.961-56.962 28.787-6.286 53.204-24.321 67.961-48.816l.268-.446Z",
        contextData: "M445.96,360.172c-38.089,0 -69.012,-30.923 -69.012,-69.011c0,-33.819 24.379,-61.989 56.501,-67.878c2.512,11.138 6.785,21.613 12.511,31.112c14.758,24.494 39.174,42.529 67.961,48.815c-5.706,32.352 -33.982,56.962 -67.961,56.962Z M 542.699, 341.07 A 69.012, 69.012 0 1, 1 542.699, 480.094 A 69.012, 69.012 0 1, 1 542.699, 341.07 Z");

    // --- MID TOM ---
    public static readonly DrumIconData MidTom = new(KitArticulation.MidTom,
        accentData: "M445.96 360.172c33.979 0 62.255-24.61 67.961-56.962-28.787-6.286-53.203-24.321-67.961-48.815-5.726-9.499-9.999-19.974-12.511-31.112-32.122 5.889-56.501 34.059-56.501 67.878 0 38.088 30.923 69.011 69.012 69.011Z",
        contextData: "M542.699 341.07a69.012 69.012 0 100 139.024 69.012 69.012 0 100-139.024ZM297.8 254.201c5.591-9.38 9.771-19.701 12.243-30.666 32.122 5.889 56.501 34.059 56.501 67.878 0 38.089-30.923 69.012-69.012 69.012-33.979 0-62.255-24.61-67.961-56.962 28.787-6.286 53.204-24.321 67.961-48.816l.268-.446Z");

    // --- LOW TOM ---
    public static readonly DrumIconData LowTom = new(KitArticulation.LowTom,
        accentData: "M542.699 341.07a69.012 69.012 0 110 139.024 69.012 69.012 0 110-139.024Z",
        contextData: "M297.8 254.201c5.591-9.38 9.771-19.701 12.243-30.666 32.122 5.889 56.501 34.059 56.501 67.878 0 38.089-30.923 69.012-69.012 69.012-33.979 0-62.255-24.61-67.961-56.962 28.787-6.286 53.204-24.321 67.961-48.816l.268-.446ZM445.96 360.172c33.979 0 62.255-24.61 67.961-56.962-28.787-6.286-53.203-24.321-67.961-48.815-5.726-9.499-9.999-19.974-12.511-31.112-32.122 5.889-56.501 34.059-56.501 67.878 0 38.088 30.923 69.011 69.012 69.011Z");

    // --- OPEN HI-HAT (HiHatOpen) ---
    public static readonly DrumIconData OpenHiHat = new(KitArticulation.OpenHiHat,
        accentData: "M203.495 339.839v61.826c0 4.476-3.633 8.109-8.109 8.109H134.177l-.001-.308c0-38.325 31.031-69.459 69.319-69.627Z",
        contextData: "M293.642 489.524v51.759c0 5.033-4.087 9.119-9.12 9.119H266.284c-5.034 0-9.12-4.086-9.12-9.119V489.524c0-5.033 4.086-9.119 9.12-9.119h18.238c5.033 0 9.12 4.086 9.12 9.119ZM198.798 163.306c14.029 0 25.418 11.389 25.418 25.417s-11.389 25.417-25.418 25.417c-14.028 0-25.417-11.389-25.417-25.417s11.389-25.417 25.417-25.417Zm0-80.103c58.238 0 105.52 47.282 105.52 105.52s-47.282 105.52-105.52 105.52S93.279 246.961 93.279 188.723 140.56 83.203 198.798 83.203Zm349.487 80.103c-14.028 0-25.417 11.389-25.417 25.417s11.389 25.417 25.417 25.417 25.417-11.389 25.417-25.417-11.389-25.417-25.417-25.417Zm0-80.103c-58.238 0-105.52 47.282-105.52 105.52s47.282 105.52 105.52 105.52 105.52-47.282 105.52-105.52-47.282-105.52-105.52-105.52ZM209.495 340.068v66.597c0 4.476-3.633 8.109-8.109 8.109H134.375c2.718 35.955 32.787 64.32 69.428 64.32 38.429 0 69.628-31.199 69.628-69.628 0-36.511-28.163-66.496-63.936-69.398Z");

    // --- CLOSED HI-HAT (HiHatClosed) ---
    public static readonly DrumIconData ClosedHiHat = new(KitArticulation.ClosedHiHat,
        accentData: "M209.495 340.068c35.773 2.902 63.936 32.887 63.936 69.398 0 38.429-31.199 69.628-69.628 69.628-36.641 0-66.71-28.365-69.428-64.32h67.011c4.476 0 8.109-3.633 8.109-8.109V340.068Z",
        contextData: "M293.642 489.524v51.759c0 5.033-4.087 9.119-9.12 9.119H266.284c-5.034 0-9.12-4.086-9.12-9.119V489.524c0-5.033 4.086-9.119 9.12-9.119h18.238c5.033 0 9.12 4.086 9.12 9.119ZM198.798 163.306c14.029 0 25.418 11.389 25.418 25.417s-11.389 25.417-25.418 25.417c-14.028 0-25.417-11.389-25.417-25.417s11.389-25.417 25.417-25.417Zm0-80.103c58.238 0 105.52 47.282 105.52 105.52s-47.282 105.52-105.52 105.52S93.279 246.961 93.279 188.723 140.56 83.203 198.798 83.203Zm349.487 80.103c-14.028 0-25.417 11.389-25.417 25.417s11.389 25.417 25.417 25.417 25.417-11.389 25.417-25.417-11.389-25.417-25.417-25.417Zm0-80.103c-58.238 0-105.52 47.282-105.52 105.52s47.282 105.52 105.52 105.52 105.52-47.282 105.52-105.52-47.282-105.52-105.52-105.52ZM203.495 339.839c-38.288.168-69.319 31.302-69.319 69.627l.001.308h61.209c4.476 0 8.109-3.633 8.109-8.109V339.839Z");

    // --- SNARE ---
    // Note: The Snare Grid only contains the Primary (Accent) Path. Context is implied/missing.
    public static readonly DrumIconData Snare = new(KitArticulation.Snare,
        accentData: "M371.073 397.416c38.089 0 69.012 30.923 69.012 69.012 0 38.088-30.923 69.011-69.012 69.011V432.088 535.439c-38.088 0-69.011-30.923-69.011-69.011 0-38.089 30.923-69.012 69.011-69.012Z",
        contextData: ""); // Context path data is missing or defined elsewhere

    // --- KICK ---
    // Note: The Kick Grid only contains the Primary (Accent) Path. Context is implied/missing.
    public static readonly DrumIconData Kick = new(KitArticulation.Kick,
        accentData: "M491.01 489.524c0-5.033-4.086-9.119-9.119-9.119H463.652c-5.033 0-9.119 4.086-9.119 9.119v51.759c0 5.033 4.086 9.119 9.119 9.119h18.239c5.033 0 9.119-4.086 9.119-9.119V489.524Z",
        contextData: ""); // Context path data is missing or defined elsewhere

    // --- PEDAL HI-HAT (HiHatPedal) ---
    public static readonly DrumIconData PedalHiHat = new(KitArticulation.PedalHiHat,
        accentData: "M293.642 489.524c0-5.033-4.087-9.119-9.12-9.119H266.284c-5.034 0-9.12 4.086-9.12 9.119v51.759c0 5.033 4.086 9.119 9.12 9.119h18.238c5.033 0 9.12-4.086 9.12-9.119V489.524Z",
        contextData: "M209.495 340.068v66.597c0 4.476-3.633 8.109-8.109 8.109H134.375c2.718 35.955 32.787 64.32 69.428 64.32 38.429 0 69.628-31.199 69.628-69.628 0-36.511-28.163-66.496-63.936-69.398Zm-6-.229c-38.288.168-69.319 31.302-69.319 69.627l.001.308h61.209c4.476 0 8.109-3.633 8.109-8.109V339.839Zm-4.697-176.533c14.029 0 25.418 11.389 25.418 25.417s-11.389 25.417-25.418 25.417c-14.028 0-25.417-11.389-25.417-25.417s11.389-25.417 25.417-25.417Zm0-80.103c58.238 0 105.52 47.282 105.52 105.52s-47.282 105.52-105.52 105.52S93.279 246.961 93.279 188.723 140.56 83.203 198.798 83.203Zm349.487 80.103c-14.028 0-25.417 11.389-25.417 25.417s11.389 25.417 25.417 25.417 25.417-11.389 25.417-25.417-11.389-25.417-25.417-25.417Zm0-80.103c-58.238 0-105.52 47.282-105.52 105.52s47.282 105.52 105.52 105.52 105.52-47.282 105.52-105.52-47.282-105.52-105.52-105.52Z");

    public KitArticulation KitArticulation { get; }
    public string AccentData { get; }
    public string ContextData { get; }
    public string Name { get; }

    

    private DrumIconData(KitArticulation articulation, string accentData, string contextData)
    {
        KitArticulation = articulation;
        AccentData = accentData;
        ContextData = contextData;

        Name = Articulation.KitArticulationToName[articulation];
        Mapping[articulation] = this;
        All.Add(this);
    }
}